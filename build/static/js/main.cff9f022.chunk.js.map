{"version":3,"sources":["constants.js","Landing.js","Card.js","EditMe.js","utils.js","Subject.js","Kingdom.js","NavBar.js","OptionsList.js","OtherKingdoms.js","SignedIn.js","App.js","registerServiceWorker.js","index.js"],"names":["appConfig","AppConfig","ANIMALS","id","name","superpower","TERRITORIES","ME_FILENAME","SUBJECTS_FILENAME","OTHER_KINGDOMS","app","ruler","Landing","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","userSession","UserSession","e","preventDefault","redirectToSignIn","react_default","a","createElement","className","onClick","signIn","bind","Component","Card","selected","props","path","item","select","concat","src","alt","disabled","EditMe","selectAnimal","assertThisInitialized","selectTerritory","state","selectedAnimal","selectedTerritory","loadMe","me","setState","animal","saveMe","assign","territory","_this2","myAnimal","myTerritory","completed","username","map","index","src_Card_0","key","Link","to","jsonCopy","object","JSON","parse","stringify","resolveSubjects","component","subjects","subject","options","decrypt","getFile","then","content","missing","loadRuler","loadSubjects","Subject","myKingdom","currentUsername","event","removeSubject","href","window","location","origin","Kingdom","value","protocol","realm","rulerUsername","clickAdd","addSubject","handleChange","loadKingdom","search","appUrl","split","nextProps","nextSubjects","length","target","url","tokens","subjectFromKingdomUrl","push","saveSubjects","splice","_this3","putFile","encrypt","finally","history","pushState","_this4","mine","rulerAnimal","rulerTerritory","style","backgroundImage","rel","role","borderColor","onSubmit","type","onChange","required","placeholder","src_Subject","NavBar","signOut","OptionsList","option","OtherKingdoms","kingdoms","resolveKingdoms","kingdom","data","catch","error","console","log","class","hostname","planet","title","SignedIn","savingMe","savingKingdown","redirectToMe","signUserOut","loadUserData","pathname","Redirect","src_NavBar_0","Switch","Route","render","routeProps","src_OptionsList_0","src_OtherKingdoms","src_EditMe_0","src_Kingdom_0","match","params","App","session","isUserSignedIn","isSignInPending","handlePendingSignIn","userData","Error","src_SignedIn_0","src_Landing_0","isLocalhost","Boolean","registerValidSW","swUrl","navigator","serviceWorker","register","registration","onupdatefound","installingWorker","installing","onstatechange","controller","ReactDOM","BrowserRouter","src_App_0","document","getElementById","URL","process","addEventListener","fetch","response","status","headers","get","indexOf","ready","unregister","reload","checkValidServiceWorker","registerServiceWorker"],"mappings":"kiBAEaA,EAAY,IAAIC,YAAU,CAAC,cAAe,iBAC1CC,EAAU,CACrB,CACEC,GAAI,MACJC,KAAM,MACNC,WAAY,gBAEd,CACEF,GAAI,MACJC,KAAM,MACNC,WAAY,sBAEd,CACEF,GAAI,OACJC,KAAM,OACNC,WAAY,oBAGHC,EAAc,CACzB,CACEH,GAAI,SACJC,KAAM,SACNC,WAAY,UAEd,CACEF,GAAI,SACJC,KAAM,SACNC,WAAY,gBAEd,CACEF,GAAI,QACJC,KAAM,YACNC,WAAY,6BAIHE,EAAc,UACdC,EAAoB,gBAIpBC,EAAiB,CAC5B,CACEC,IAAK,2CACLC,MAAO,YAET,CACED,IAAK,wBACLC,MAAO,WAET,CACED,IAAK,4CACLC,MAAO,uBAET,CACID,IAAK,0CACLC,MAAO,2BAEX,CACED,IAAK,qCACLC,MAAO,4BC9BIC,sBAzBb,SAAAA,IAAc,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACZC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,QACKI,YAAc,IAAIC,cAAY,CAAErB,cAFzBa,sEAKPS,GACLA,EAAEC,iBACFP,KAAKI,YAAYI,oDAIjB,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,8BAAd,kBACAH,EAAAC,EAAAC,cAAA,UACEC,UAAU,mCACVC,QAASb,KAAKc,OAAOC,KAAKf,OAF5B,oCAjBYgB,0DCsBPC,kMApBX,IAAMC,EAAWlB,KAAKmB,MAAMD,SACtBE,EAAOpB,KAAKmB,MAAMC,KAClBC,EAAOrB,KAAKmB,MAAME,KAClBC,EAAStB,KAAKmB,MAAMG,OAC1B,OACEb,EAAAC,EAAAC,cAAA,OACEC,UAAS,QAAAW,OAAUL,EAAW,iBAAmB,IACjDL,QAAS,SAACP,GAAD,OAAOgB,EAAOhB,EAAGe,KAE5BZ,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eAAeY,IAAG,GAAAD,OAAKH,GAALG,OAAYF,EAAKlC,GAAjB,QAA2BsC,IAAKJ,EAAKjC,OACtEqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAcS,EAAKjC,MACjCqB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAaS,EAAKhC,YAC/BoB,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4Bc,SAAUR,GAAYA,EAAW,WAAa,mBAhBjFF,cC+FJW,cA3Fb,SAAAA,EAAYR,GAAO,IAAAtB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2B,IACjB9B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6B,GAAAxB,KAAAH,KAAMmB,KACDS,aAAe/B,EAAK+B,aAAab,KAAlBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IACpBA,EAAKiC,gBAAkBjC,EAAKiC,gBAAgBf,KAArBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IAEvBA,EAAKkC,MAAQ,CACXC,gBAAgB,EAChBC,mBAAmB,GAGrBpC,EAAKqC,OAASrC,EAAKqC,OAAOnB,KAAZjB,OAAA+B,EAAA,EAAA/B,CAAAD,IAVGA,oFAejBG,KAAKkC,0CAIFlC,KAAKmB,MAAMgB,GACVnC,KAAKoC,SAAS,CAACJ,gBAAgB,EAAMC,mBAAmB,IAExDjC,KAAKoC,SAAS,CAACJ,gBAAgB,EAAOC,mBAAmB,yCAKlD3B,EAAG+B,GACd/B,EAAEC,iBACFP,KAAKoC,SAAS,CAACJ,gBAAgB,IAC/BhC,KAAKmB,MAAMmB,OAAOxC,OAAOyC,OAAO,GAAIvC,KAAKmB,MAAMgB,GAAI,CAAEE,oDAGvC/B,EAAGkC,GACjBlC,EAAEC,iBACFP,KAAKoC,SAAS,CAACH,mBAAmB,IAClCjC,KAAKmB,MAAMmB,OAAOxC,OAAOyC,OAAO,GAAIvC,KAAKmB,MAAMgB,GAAI,CAAEK,gDAI9C,IAAAC,EAAAzC,KACDmC,EAAKnC,KAAKmB,MAAMgB,GAClBO,EAAW,KACXC,EAAc,KACdR,IACFO,EAAW1C,KAAKmB,MAAMgB,GAAGE,OACzBM,EAAc3C,KAAKmB,MAAMgB,GAAGK,WAE9B,IAAMR,EAAiBhC,KAAK+B,MAAMC,eAC5BC,EAAoBjC,KAAK+B,MAAME,kBAC/BW,EAAYZ,GAAkBC,EAC9BY,EAAW7C,KAAKmB,MAAM0B,SAE5B,OACEpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,oBACfH,EAAAC,EAAAC,cAAA,iCACAF,EAAAC,EAAAC,cAAA,sFACEF,EAAAC,EAAAC,cAAA,gCACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACb1B,EAAQ4D,IAAI,SAACT,EAAQU,GACrB,IAAM7B,EAAWwB,GAAYA,EAASvD,KAAOkD,EAAOlD,GACpD,OACEsB,EAAAC,EAAAC,cAACqC,EAAD,CAAM5B,KAAK,YAAY6B,IAAKF,EAAO1B,KAAMgB,EAAQf,OAAQmB,EAAKb,aAAcV,SAAUA,OAK1FT,EAAAC,EAAAC,cAAA,MAAIC,UAAU,oBAAd,yBACAH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbtB,EAAYwD,IAAI,SAACN,EAAWO,GAC5B,IAAM7B,EAAWyB,GAAeA,EAAYxD,KAAOqD,EAAUrD,GAC7D,OACEsB,EAAAC,EAAAC,cAACqC,EAAD,CAAM5B,KAAK,gBAAgB6B,IAAKF,EAAO1B,KAAMmB,EAAWlB,OAAQmB,EAAKX,gBAAiBZ,SAAUA,OAKpGT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,kBACbH,EAAAC,EAAAC,cAAA,SACEF,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMC,GAAIP,EAAS,YAAArB,OAAasB,GAAb,MACbjC,UAAU,mBADhB,mBAlFOI,aCJd,SAASoC,EAASC,GACvB,OAAOC,KAAKC,MAAMD,KAAKE,UAAUH,IAuB5B,SAASI,EAAgBC,EAAWtD,EAAauD,GACtDA,EAASb,IAAI,SAACc,EAASb,GACrB,IAAMc,EAAU,CACdC,SAAS,EACTpE,IAAKkE,EAAQlE,IACbmD,SAAUe,EAAQf,UAEpB,OAAOzC,EAAY2D,QAAQxE,EAAasE,GACvCG,KAAK,SAAAC,GACJ,OAAIA,GAMFN,EAASZ,GAASjD,OAAOyC,OAAO,GAAIqB,EAAS,CAAEM,SAAS,GAASZ,KAAKC,MAAMU,IAC5EP,EAAUtB,SAAS,CAAEuB,aACdA,IANPA,EAASZ,GAASjD,OAAOyC,OAAO,GAAIqB,EAAS,CAAEM,SAAS,IACxDR,EAAUtB,SAAS,CAAEuB,aACdA,OAWR,SAASQ,EAAU/D,EAAayC,EAAUnD,GAC/C,IAAMmE,EAAU,CAAEC,SAAS,EAAOjB,WAAUnD,OAC5C,OAAOU,EAAY2D,QAAQxE,EAAasE,GACvCG,KAAK,SAACC,GACL,GAAGA,EAED,OADcX,KAAKC,MAAMU,GAIzB,OADc,OAMb,SAASG,EAAahE,EAAayC,EAAUnD,GAClD,IAAMmE,EAAU,CAAEC,SAAS,EAAOjB,WAAUnD,OAC5C,OAAOU,EAAY2D,QAAQvE,EAAmBqE,GAC7CG,KAAK,SAACC,GACL,OAAGA,EACgBX,KAAKC,MAAMU,GAGrB,SC5BEI,mLAvCJ,IAAAxE,EAAAG,KACD+C,EAAQ/C,KAAKmB,MAAM4B,MACnBF,EAAW7C,KAAKmB,MAAMyC,QAAQf,SAC9B3B,EAAWlB,KAAKmB,MAAMD,SACtBxB,EAAMM,KAAKmB,MAAMyC,QAAQlE,IACzB2C,EAASrC,KAAKmB,MAAMyC,QAAQvB,OAC5BiC,EAAYtE,KAAKmB,MAAMmD,UACvBC,EAAkBvE,KAAKmB,MAAMoD,gBACnC,OAAKlC,EAKH5B,EAAAC,EAAAC,cAAA,OACEC,UAAS,QAAAW,OAAUL,EAAW,iBAAmB,KAEnDT,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbY,IAAG,GAAAD,OAAK7B,EAAL,aAAA6B,OAAoBc,EAAOlD,GAA3B,QACHsC,IAAKY,EAAOjD,OAEdqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,cAAciC,EAA5B,QAA2CR,EAAOjD,MAClDqB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,aAAayB,EAAOhD,WAAWoB,EAAAC,EAAAC,cAAA,WAA5C,4BAC2BjB,EAD3B,KAEC4E,EACC7D,EAAAC,EAAAC,cAAA,UAAQC,UAAU,4BAA4BC,QAAS,SAAC2D,GAAD,OAAW3E,EAAKsB,MAAMsD,cAAcD,EAAOzB,KAAlG,uBAEAtC,EAAAC,EAAAC,cAAA,KACEC,UAAU,4BACV8D,KAAI,GAAAnD,OAAKoD,OAAOC,SAASC,OAArB,aAAAtD,OAAuCgD,EAAvC,SAAAhD,OAA8D7B,EAA9D,aAAA6B,OAA6EsB,IAFnF,uBAlBG,YAXS7B,aCsMP8D,sBA7Lb,SAAAA,EAAY3D,GAAO,IAAAtB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA8E,IACjBjF,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAgF,GAAA3E,KAAAH,KAAMmB,KACDY,MAAQ,CACXpC,MAAO,CACL0C,OAAQ,GAGRG,UAAW,IAIbmB,SAAU,GACVoB,MAAO,GACPrF,IAAG,GAAA6B,OAAIJ,EAAM6D,SAAV,MAAAzD,OAAuBJ,EAAM8D,OAChCC,cAAe/D,EAAMxB,MACrBwF,UAAU,GAEZtF,EAAKO,YAAc,IAAIC,cAAY,CAAErB,cACrCa,EAAKuF,WAAavF,EAAKuF,WAAWrE,KAAhBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IAClBA,EAAK4E,cAAgB5E,EAAK4E,cAAc1D,KAAnBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IACrBA,EAAKwF,aAAexF,EAAKwF,aAAatE,KAAlBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IACpBA,EAAKyF,YAAczF,EAAKyF,YAAYvE,KAAjBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IArBFA,oFAyBjB,IAAMH,EAAMM,KAAK+B,MAAMrC,IACjBC,EAAQK,KAAKmB,MAAMxB,MACzBK,KAAKsF,YAAY3F,EAAOD,GACxB,IAAM6F,EAASZ,OAAOC,SAASW,OAC/B,GAAGA,EAAQ,CACT,IAAMC,EAASD,EAAOE,MAAM,KAAK,GACjCzF,KAAKoC,SAAS,CACZ2C,MAAOS,EACPL,UAAU,uDAKUO,GACxB,IAAMC,EAAeD,EAAU/B,SAC5BgC,IACGA,EAAaC,SAAW5F,KAAK+B,MAAM4B,SAASiC,QAC9C5F,KAAKoC,SAAS,CAAEuB,SAAUP,EAASuC,KAErClC,EAAgBzD,KAAMA,KAAKI,YAAauF,yCAK/BnB,GACZxE,KAAKoC,SAAS,CAAC2C,MAAOP,EAAMqB,OAAOd,4CAGxBpF,EAAOD,GAAK,IAAA+C,EAAAzC,KACtBmE,EAAUnE,KAAKI,YAAaT,EAAOD,GAClCsE,KAAK,SAAArE,GACAA,GACF8C,EAAKL,SAAS,CAAEzC,YAIpByE,EAAapE,KAAKI,YAAaT,EAAOD,GACrCsE,KAAK,SAAAL,GACJlB,EAAKL,SAAS,CAAEuB,aAChBF,EAAgBhB,EAAMA,EAAKrC,YAAauD,wCAIjCrD,GACTA,EAAEC,iBACF,IAAMqD,EFlEH,SAA+BkC,GACpC,IAAMC,EAASD,EAAIL,MAAM,YAGzB,MAAO,CACL/F,IAHUqG,EAAO,GAIjBlD,SAHekD,EAAO,GAAGN,MAAM,KAAK,IE+DpBO,CAAsBhG,KAAK+B,MAAMgD,OAC3CpB,EAAWP,EAASpD,KAAK+B,MAAM4B,UACrC3D,KAAKoC,SAAS,CAAC2C,MAAO,GAAII,UAAU,IACpCxB,EAASsC,KAAKrC,GACd5D,KAAKoC,SAAS,CAAEuB,aAChB3D,KAAKkG,aAAavC,yCAGNrD,EAAGyC,GACfzC,EAAEC,iBACF,IAAMoD,EAAWP,EAASpD,KAAK+B,MAAM4B,UACrCA,EAASwC,OAAOpD,EAAO,GACvB/C,KAAKoC,SAAS,CAAEuB,aAChB3D,KAAKkG,aAAavC,wCAGPA,GAAU,IAAAyC,EAAApG,KAErBA,KAAKI,YAAYiG,QAAQ7G,EAAmB8D,KAAKE,UAAUG,GAD3C,CAAE2C,SAAS,IAE1BC,QAAQ,WACJ5B,OAAOC,SAASW,QACjBZ,OAAO6B,QAAQC,UAAU,KAAM,GAAI9B,OAAOC,SAASF,KAAKe,MAAM,KAAK,IAErEhC,EAAgB2C,EAAMA,EAAKhG,YAAauD,sCAInC,IAAA+C,EAAA1G,KACD2G,EAAO3G,KAAKmB,MAAMmD,UAClB3E,EAAQK,KAAK+B,MAAMpC,MACnBiH,EAAcjH,EAAM0C,OACpBwE,EAAiBlH,EAAM6C,UACvBK,EAAW7C,KAAK+B,MAAMmD,cACtBvB,EAAW3D,KAAK+B,MAAM4B,SACtBW,EAAYtE,KAAKmB,MAAMmD,UACvB5E,EAAMM,KAAK+B,MAAMrC,IACjByF,EAAWnF,KAAK+B,MAAMoD,SACtBZ,EAAkBvE,KAAKmB,MAAMoD,gBACnC,OACE9D,EAAAC,EAAAC,cAAA,OAAKC,UAAU,WACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,OACbH,EAAAC,EAAAC,cAAA,OACEC,UAAU,sBACVkG,MAAO,CAACC,gBAAe,QAAAxF,OAAU7B,EAAV,iBAAA6B,OAA6BsF,EAAe1H,GAA5C,YAEvByH,GAAeA,EAAYxH,KAC3BqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBY,IAAG,GAAAD,OAAK7B,EAAL,aAAA6B,OAAoBqF,EAAYzH,GAAhC,QAA0CsC,IAAKmF,EAAYxH,OAE9FqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,iBAAiBY,IAAI,qFACpCC,IAAI,gBAIRhB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,mBAAWkC,GACV+D,EACCnG,EAAAC,EAAAC,cAAA,SAAGF,EAAAC,EAAAC,cAAA,KAAG+D,KAAI,GAAAnD,ONnGI,kCMmGJ,UAAAA,OAA0BsB,GAAYgD,OAAO,SAASmB,IAAI,uBAAuBnE,GAA3F,SAA+G+D,EAAYxH,KAA3H,wBAAsJyH,EAAezH,KAArK,KAEAqB,EAAAC,EAAAC,cAAA,SAAIkC,EAAJ,0DAEFpC,EAAAC,EAAAC,cAAA,SACCgG,EAAOlG,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,kBAAkBuC,GAAG,MAAM8D,KAAK,UAAhD,kBACNxG,EAAAC,EAAAC,cAAA,KACAC,UAAU,kBACV8D,KAAI,GAAAnD,OAAKoD,OAAOC,SAASC,OAArB,aAAAtD,OAAuCgD,EAAvC,SAAAhD,OAA8D7B,EAA9D,aAAA6B,OAA6EsB,IAFjF,4BAMFpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,sBACCgG,EACClG,EAAAC,EAAAC,cAAA,OAAKC,UAAU,8BACbH,EAAAC,EAAAC,cAAA,OACExB,GAAG,aACHyB,UAAU,qBACVkG,MAAO,CAACI,YAAc/B,EAAW,MAAQ,YAEzC1E,EAAAC,EAAAC,cAAA,QAAMwG,SAAUnH,KAAKoF,WAAYxE,UAAU,eACzCH,EAAAC,EAAAC,cAAA,SACEC,UAAU,eACVwG,KAAK,MACLC,SAAUrH,KAAKqF,aACfN,MAAO/E,KAAK+B,MAAMgD,MAClBuC,UAAQ,EACRC,YAAY,yCAEd9G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,sBACbH,EAAAC,EAAAC,cAAA,SAAOyG,KAAK,SAASxG,UAAU,kBAAkBmE,MAAM,oBAM/D,KAEFtE,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACd+C,EAASb,IAAI,SAACc,EAASb,GACtB,OACEtC,EAAAC,EAAAC,cAAC6G,EAAD,CACEvE,IAAKF,EACLA,MAAOA,EACPa,QAASA,EACTa,cAAeiC,EAAKjC,cACpBH,UAAWA,EACXC,gBAAiBA,kBAjLfvD,cCiCPyG,2LApCX,IAAM5E,EAAW7C,KAAKmB,MAAM0B,SAC5B,OACJpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yDACfH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,eAAeuC,GAAG,KAAlC,kBAEA1C,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BAA2BzB,GAAG,yBAC3CsB,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,WAAWuC,GAAE,YAAA5B,OAAcsB,IAA3C,iBAEFpC,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,WAAWuC,GAAG,YAA9B,YAEF1C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,WAAWuC,GAAG,gBAA9B,gBAEF1C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,WAAWuC,GAAG,WAA9B,qBAIN1C,EAAAC,EAAAC,cAAA,MAAIC,UAAU,sBACZH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,YACZH,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CAAMtC,UAAU,WAAWuC,GAAG,OAAON,KAGzCpC,EAAAC,EAAAC,cAAA,UACEC,UAAU,kBACVC,QAASb,KAAKmB,MAAMuG,QAAQ3G,KAAKf,OAFnC,oBA7BqBgB,cCgCN2G,2LA7BX,IAAMP,EAAOpH,KAAKmB,MAAMiG,KACpBvD,EAAU3E,EAId,MAHa,gBAATkI,IACFvD,EAAUvE,GAGVmB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,yBACXH,EAAAC,EAAAC,cAAA,uBAAgByG,EAAhB,mBACA3G,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACZiD,EAAQf,IAAI,SAAC8E,EAAQ7E,GACtB,OACEtC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACfH,EAAAC,EAAAC,cAAA,MAAIC,UAAU,eAAgBgH,EAAOxI,MACrCqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,eACbY,IAAG,IAAAD,OAAM6F,EAAN,KAAA7F,OAAcqG,EAAOzI,GAArB,QACHsC,IAAKmG,EAAOxI,OAEdqB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cAAegH,EAAOvI,yBArB3B2B,cCyHX6G,cArHb,SAAAA,EAAY1G,GAAO,IAAAtB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6H,IACjBhI,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+H,GAAA1H,KAAAH,KAAMmB,KACDY,MAAQ,CACX+F,SAAU,IAEZjI,EAAKO,YAAc,IAAIC,cAAY,CAAErB,cACrCa,EAAKkI,gBAAkBlI,EAAKkI,gBAAgBhH,KAArBjB,OAAA+B,EAAA,EAAA/B,CAAAD,IANNA,oFAUjBG,KAAK+H,4DAGW,IAAAtF,EAAAzC,KACV8H,EAAW9H,KAAK+B,MAAM+F,SAC5BrI,EAAeqD,IAAI,SAACkF,EAASjF,GAC3B,OAAOoB,EAAU1B,EAAKrC,YAAa4H,EAAQrI,MAAOqI,EAAQtI,KACzDsE,KAAK,SAAArE,GAWJ,OAVAmI,EAAS/E,GAAS,CAChBpD,MAAO,CACLkD,SAAUmF,EAAQrI,MAClBsI,KAAMtI,GAERgE,SAAU,GACVjE,IAAKsI,EAAQtI,KAGf+C,EAAKL,SAAS,CAAE0F,aACT1D,EAAa3B,EAAKrC,YAAa4H,EAAQrI,MAAOqI,EAAQtI,KAC5DsE,KAAK,SAAAL,GACFmE,EAAS/E,GAAOY,SAAWA,EAC3BlB,EAAKL,SAAS,CAAEuB,eAEnBuE,MAAM,SAAAC,GACLC,QAAQC,IAAI,4BACZD,QAAQC,IAAIF,GACZL,EAAS/E,GAAOY,SAAW,GAC3BmE,EAAS/E,GAAOoF,OAAQ,EACxB1F,EAAKL,SAAS,CAAE4F,gBAGnBE,MAAM,SAACC,GACNC,QAAQC,IAAI,mBACZD,QAAQC,IAAIF,GACZL,EAAS/E,GAAS,CAChBoF,OAAO,EACPxI,MAAO,CACLkD,SAAUmF,EAAQrI,MAClBsI,KAAM,MAERtE,SAAU,GACVjE,IAAKsI,EAAQtI,0CAOnB,IAAMoI,EAAW9H,KAAK+B,MAAM+F,SAC5B,OACErH,EAAAC,EAAAC,cAAA,OAAKC,UAAU,2BACXH,EAAAC,EAAAC,cAAA,4BACAF,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACM,IAApBkH,EAASlC,OACRnF,EAAAC,EAAAC,cAAA,OACEC,UAAU,wEAEVH,EAAAC,EAAAC,cAAA,OAAK2H,MAAM,wCACT7H,EAAAC,EAAAC,cAAA,MAAI2H,MAAM,QAAV,8BAEF7H,EAAAC,EAAAC,cAAA,KAAG2H,MAAM,QAAT,SAGF7H,EAAAC,EAAAC,cAAA,WACCmH,EAAShF,IAAI,SAACkF,EAASjF,GACtB,IAAMiC,EAAWgD,EAAQtI,IAAI+F,MAAM,MAAM,GACnC8C,EAAWP,EAAQtI,IAAI+F,MAAM,MAAM,GACnC+C,EAASR,EAAQtI,IACjBC,EAAQqI,EAAQG,MAAQ,GAAKH,EAAQrI,MACrCsI,EAAOtI,EAAQA,EAAMsI,KAAO,GAC5B5F,EAAS4F,EAAOA,EAAK5F,OAAS,GACpC,OAAI2F,EAAQG,MAER1H,EAAAC,EAAAC,cAAA,OACEC,UAAU,uEACVqC,IAAKF,GAELtC,EAAAC,EAAAC,cAAA,OAAK2H,MAAM,wCACT7H,EAAAC,EAAAC,cAAA,MAAI2H,MAAM,QAASN,EAAQrI,MAAMkD,SAAjC,gCAEFpC,EAAAC,EAAAC,cAAA,KAAG2H,MAAM,QAAT,iBAAgCE,EAAhC,kBAKF/H,EAAAC,EAAAC,cAACuC,EAAA,EAAD,CACEtC,UAAU,uEACVuC,GAAE,YAAA5B,OAAcyD,EAAd,KAAAzD,OAA0BgH,EAA1B,KAAAhH,OAAsCyG,EAAQrI,MAAMkD,UACtDI,IAAKF,GAELtC,EAAAC,EAAAC,cAAA,OAAK2H,MAAM,wCACT7H,EAAAC,EAAAC,cAAA,MAAI2H,MAAM,QAASN,EAAQrI,MAAMkD,SAAjC,QAAkDR,EAASA,EAAOjD,KAAO,GAAzE,cACAqB,EAAAC,EAAAC,cAAA,QAAM2H,MAAM,iCAAiCG,MAAM,YAAaT,EAAQrE,SAASiC,SAEnFnF,EAAAC,EAAAC,cAAA,KAAG2H,MAAM,QAAT,eAA8BE,gBA1GtBxH,aCoJb0H,sBA5Ib,SAAAA,EAAYvH,GAAO,IAAAtB,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0I,IACjB7I,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4I,GAAAvI,KAAAH,KAAMmB,KACDf,YAAc,IAAIC,cAAY,CAAErB,cACrCa,EAAKkC,MAAQ,CACXI,GAAI,GACJwG,UAAU,EACVC,gBAAgB,EAChBC,cAAc,GAKhBhJ,EAAKqC,OAASrC,EAAKqC,OAAOnB,KAAZjB,OAAA+B,EAAA,EAAA/B,CAAAD,IACdA,EAAKyC,OAASzC,EAAKyC,OAAOvB,KAAZjB,OAAA+B,EAAA,EAAA/B,CAAAD,IACdA,EAAK6H,QAAU7H,EAAK6H,QAAQ3G,KAAbjB,OAAA+B,EAAA,EAAA/B,CAAAD,IAdEA,oFAkBjBG,KAAKkC,0CAGE,IAAAO,EAAAzC,KAEPA,KAAKI,YAAY2D,QAAQxE,EADT,CAAEuE,SAAS,IAE1BE,KAAK,SAACC,GACL,GAAGA,EAAS,CACV,IAAM9B,EAAKmB,KAAKC,MAAMU,GACtBxB,EAAKL,SAAS,CAACD,KAAI0G,cAAc,QAC5B,CAELpG,EAAKL,SAAS,CAACD,GADJ,KACQ0G,cAAc,sCAKhC1G,GAAI,IAAAiE,EAAApG,KACTA,KAAKoC,SAAS,CAACD,KAAIwG,UAAU,IAE7B3I,KAAKI,YAAYiG,QAAQ9G,EAAa+D,KAAKE,UAAUrB,GADrC,CAAEmE,SAAS,IAE1BC,QAAQ,WACPH,EAAKhE,SAAS,CAACuG,UAAU,EAAOE,cAAc,sCAI1CvI,GACNA,EAAEC,iBACFP,KAAKI,YAAY0I,cACjBnE,OAAOC,SAAW,qCAGX,IAAA8B,EAAA1G,KACD6C,EAAW7C,KAAKI,YAAY2I,eAAelG,SAC3CV,EAAKnC,KAAK+B,MAAMI,GAEtB,OADqBnC,KAAK+B,MAAM8G,cAGE,QAA7BlE,OAAOC,SAASoE,SAEfvI,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CAAU9F,GAAG,QAKa,MAA7BwB,OAAOC,SAASoE,SAEfvI,EAAAC,EAAAC,cAACsI,EAAA,EAAD,CAAU9F,GAAE,YAAA5B,OAAcsB,KAM5BpC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,YACfH,EAAAC,EAAAC,cAACuI,EAAD,CAAQrG,SAAUA,EAAU6E,QAAS1H,KAAK0H,UAC1CjH,EAAAC,EAAAC,cAACwI,EAAA,EAAD,KACQ1I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEhI,KAAK,WACLiI,OACE,SAAAC,GAAU,OAAI7I,EAAAC,EAAAC,cAAC4I,EAADzJ,OAAAyC,OAAA,CACd6E,KAAK,WACDkC,OAGR7I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEhI,KAAK,eACLiI,OACE,SAAAC,GAAU,OAAI7I,EAAAC,EAAAC,cAAC4I,EAADzJ,OAAAyC,OAAA,CACd6E,KAAK,eACDkC,OAGR7I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEhI,KAAK,UACLiI,OACE,SAAAC,GAAU,OAAI7I,EAAAC,EAAAC,cAAC6I,EAAD1J,OAAAyC,OAAA,CACd6E,KAAK,eACDkC,OAGR7I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEhI,KAAK,MACLiI,OACE,SAAAC,GAAU,OAAI7I,EAAAC,EAAAC,cAAC8I,EAAD3J,OAAAyC,OAAA,CACdJ,GAAIA,EACJG,OAAQoE,EAAKpE,OACbO,SAAUA,GAGNyG,OAGR7I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEhI,KAAI,YAAAG,OAAcsB,GAClBwG,OACE,SAAAC,GAAU,OAAI7I,EAAAC,EAAAC,cAAC+I,EAAD5J,OAAAyC,OAAA,CACd+B,WAAW,EACXU,SAAUL,OAAOC,SAASI,SAC1BrF,MAAOkD,EACP0B,gBAAiB1B,EACjBoC,MAAON,OAAOC,SAASC,OAAOY,MAAM,MAAM,IACtC6D,OAGR7I,EAAAC,EAAAC,cAACyI,EAAA,EAAD,CACEhI,KAAK,mCACLiI,OACE,SAAAC,GAAU,OAAI7I,EAAAC,EAAAC,cAAC+I,EAAD5J,OAAAyC,OAAA,CACd+B,WAAW,EACXU,SAAUsE,EAAWK,MAAMC,OAAO5E,SAClCC,MAAOqE,EAAWK,MAAMC,OAAO3E,MAC/BtF,MAAO2J,EAAWK,MAAMC,OAAOjK,MAC/B4E,gBAAiB1B,GACbyG,gBArICtI,cC4BR6I,cA/Bb,SAAAA,IAAc,IAAAhK,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA6J,IACZhK,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA+J,GAAA1J,KAAAH,QACKI,YAAc,IAAIC,cAFXR,oFAMZ,IAAMiK,EAAU9J,KAAKI,aACjB0J,EAAQC,kBAAoBD,EAAQE,mBACtCF,EAAQG,sBACPjG,KAAK,SAACkG,GACL,IAAIA,EAASrH,SACX,MAAM,IAAIsH,MAAM,iCAElBxF,OAAOC,SAAP,YAAArD,OAA8B2I,EAASrH,6CAM3C,OACEpC,EAAAC,EAAAC,cAAA,QAAMsG,KAAK,QACNjH,KAAKI,YAAY2J,iBAChBtJ,EAAAC,EAAAC,cAACyJ,EAAD,MAEA3J,EAAAC,EAAAC,cAAC0J,EAAD,cA1BMrJ,aCGZsJ,EAAcC,QACW,cAA7B5F,OAAOC,SAAS2D,UAEe,UAA7B5D,OAAOC,SAAS2D,UAEhB5D,OAAOC,SAAS2D,SAASoB,MACvB,2DAsCN,SAASa,EAAgBC,GACvBC,UAAUC,cACPC,SAASH,GACTzG,KAAK,SAAA6G,GACJA,EAAaC,cAAgB,WAC3B,IAAMC,EAAmBF,EAAaG,WACtCD,EAAiBE,cAAgB,WACA,cAA3BF,EAAiBhJ,QACf2I,UAAUC,cAAcO,WAK1B9C,QAAQC,IAAI,6CAKZD,QAAQC,IAAI,2CAMrBH,MAAM,SAAAC,GACLC,QAAQD,MAAM,4CAA6CA,YCvEjEgD,IAAS9B,OAAO5I,EAAAC,EAAAC,cAACyK,EAAA,EAAD,KAAe3K,EAAAC,EAAAC,cAAC0K,EAAD,OAAyBC,SAASC,eAAe,SDYjE,WACb,GAA6C,kBAAmBb,UAAW,CAGzE,GADkB,IAAIc,IAAIC,GAAwB9G,OAAOC,UAC3CC,SAAWF,OAAOC,SAASC,OAIvC,OAGFF,OAAO+G,iBAAiB,OAAQ,WAC9B,IAAMjB,EAAK,GAAAlJ,OAAMkK,GAAN,sBAEPnB,GAiDV,SAAiCG,GAE/BkB,MAAMlB,GACHzG,KAAK,SAAA4H,GAGkB,MAApBA,EAASC,SACuD,IAAhED,EAASE,QAAQC,IAAI,gBAAgBC,QAAQ,cAG7CtB,UAAUC,cAAcsB,MAAMjI,KAAK,SAAA6G,GACjCA,EAAaqB,aAAalI,KAAK,WAC7BW,OAAOC,SAASuH,aAKpB3B,EAAgBC,KAGnBvC,MAAM,WACLE,QAAQC,IACN,mEArEA+D,CAAwB3B,GAIxBC,UAAUC,cAAcsB,MAAMjI,KAAK,WACjCoE,QAAQC,IACN,+GAMJmC,EAAgBC,MCvCxB4B","file":"static/js/main.cff9f022.chunk.js","sourcesContent":["import { AppConfig } from 'blockstack'\r\n\r\nexport const appConfig = new AppConfig(['store_write', 'publish_data'])\r\nexport const ANIMALS = [\r\n  {\r\n    id: 'cat',\r\n    name: 'Cat',\r\n    superpower: 'Has 9 lives.'\r\n  },\r\n  {\r\n    id: 'dog',\r\n    name: 'Dog',\r\n    superpower: 'Catching frisbees.'\r\n  },\r\n  {\r\n    id: 'lion',\r\n    name: 'Lion',\r\n    superpower: 'Roaring loudly.'\r\n  }]\r\n\r\nexport const TERRITORIES = [\r\n  {\r\n    id: 'forest',\r\n    name: 'Forest',\r\n    superpower: 'Trees!'\r\n  },\r\n  {\r\n    id: 'tundra',\r\n    name: 'Tundra',\r\n    superpower: 'Let it snow!'\r\n  },\r\n  {\r\n    id: 'vegas',\r\n    name: 'Las Vegas',\r\n    superpower: 'What happens in Vegas...'\r\n  }\r\n]\r\n\r\nexport const ME_FILENAME = 'me.json'\r\nexport const SUBJECTS_FILENAME = 'subjects.json'\r\nexport const EXPLORER_URL = 'https://explorer.blockstack.org'\r\n\r\n\r\nexport const OTHER_KINGDOMS = [\r\n  {\r\n    app: 'https://animal-kingdom-1.firebaseapp.com',\r\n    ruler: 'larry.id'\r\n  },\r\n  {\r\n    app: 'http://localhost:3001',\r\n    ruler: 'larz.id'\r\n  },\r\n  {\r\n    app: 'https://decentralised-islands.netlify.com',\r\n    ruler: 'yannael_leborgne.id'\r\n  },\r\n  {\r\n      app: 'https://thirsty-jang-0c0a17.netlify.com',\r\n      ruler: 'ma1222042.id.blockstack'\r\n  },\r\n  {\r\n    app: 'https://animalkingdoms.netlify.com',\r\n    ruler: 'moxiegirl.id.blockstack'\r\n  }\r\n]\r\n","import React, { Component } from 'react'\r\nimport { UserSession } from 'blockstack'\r\nimport { appConfig } from './constants'\r\nimport './Landing.css'\r\n\r\nclass Landing extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.userSession = new UserSession({ appConfig })\r\n  }\r\n\r\n  signIn(e) {\r\n    e.preventDefault()\r\n    this.userSession.redirectToSignIn()\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <div className=\"Landing\">\r\n        <div className=\"form-signin\">\r\n          <h1 className=\"h1 mb-3 font-weight-normal\">Animal Kingdom</h1>\r\n          <button\r\n            className=\"btn btn-lg btn-primary btn-block\"\r\n            onClick={this.signIn.bind(this)}>Sign in with Blockstack\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Landing\r\n","import React, { Component } from 'react'\r\nimport './Card.css'\r\n\r\n\r\nclass Card extends Component {\r\n\r\n  render() {\r\n    const selected = this.props.selected\r\n    const path = this.props.path\r\n    const item = this.props.item\r\n    const select = this.props.select\r\n    return (\r\n      <div\r\n        className={`card ${selected ? 'border-primary' : ''}`}\r\n        onClick={(e) => select(e, item)}\r\n      >\r\n      <img className=\"card-img-top\" src={`${path}${item.id}.jpg`} alt={item.name} />\r\n      <div className=\"card-body\">\r\n        <h4 className=\"card-title\">{item.name}</h4>\r\n        <p className=\"card-text\">{item.superpower}</p>\r\n        <button className='btn btn-primary btn-block' disabled={selected}>{ selected ? 'Selected' : 'Select' }</button>\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Card\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './EditMe.css'\r\nimport Card from './Card'\r\nimport { ANIMALS, TERRITORIES, ME_FILENAME } from './constants'\r\n\r\nclass EditMe extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.selectAnimal = this.selectAnimal.bind(this)\r\n    this.selectTerritory = this.selectTerritory.bind(this)\r\n\r\n    this.state = {\r\n      selectedAnimal: false,\r\n      selectedTerritory: false\r\n    }\r\n    \r\n    this.loadMe = this.loadMe.bind(this)\r\n\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.loadMe()\r\n  }\r\n\r\n  loadMe() {\r\n    if(this.props.me) {\r\n        this.setState({selectedAnimal: true, selectedTerritory: true})\r\n      } else {\r\n        this.setState({selectedAnimal: false, selectedTerritory: false})\r\n      }\r\n  }\r\n  \r\n\r\n  selectAnimal(e, animal) {\r\n    e.preventDefault()\r\n    this.setState({selectedAnimal: true})\r\n    this.props.saveMe(Object.assign({}, this.props.me, { animal }))\r\n  }\r\n\r\n  selectTerritory(e, territory) {\r\n    e.preventDefault()\r\n    this.setState({selectedTerritory: true})\r\n    this.props.saveMe(Object.assign({}, this.props.me, { territory }))\r\n  }\r\n\r\n\r\n  render() {\r\n    const me = this.props.me\r\n    let myAnimal = null\r\n    let myTerritory = null\r\n    if (me) {\r\n      myAnimal = this.props.me.animal\r\n      myTerritory = this.props.me.territory\r\n    }\r\n    const selectedAnimal = this.state.selectedAnimal \r\n    const selectedTerritory = this.state.selectedTerritory\r\n    const completed = selectedAnimal && selectedTerritory\r\n    const username = this.props.username\r\n\r\n    return (\r\n      <div className=\"EditMe container\">\r\n      <h2>Your animal persona</h2>\r\n      <p>You are the ruler of your kingdom! Pick your animal persona and its home!</p>\r\n        <h3>Select your animal</h3>\r\n        <div className=\"row card-deck\">\r\n        { ANIMALS.map((animal, index) => {\r\n          const selected = myAnimal && myAnimal.id === animal.id\r\n          return (\r\n            <Card path='/animals/' key={index} item={animal} select={this.selectAnimal} selected={selected} />\r\n                )\r\n          })\r\n        }\r\n        </div>\r\n        <h3 className=\"select-territory\">Select your territory</h3>\r\n        <div className=\"card-deck\">\r\n        { TERRITORIES.map((territory, index) => {\r\n          const selected = myTerritory && myTerritory.id === territory.id\r\n          return (\r\n            <Card path='/territories/' key={index} item={territory} select={this.selectTerritory} selected={selected} />\r\n                )\r\n          })\r\n        }\r\n        </div>\r\n        <div className=\"container row\">\r\n          <div className=\"col-lg-12 done\">\r\n            <p>\r\n              <Link to={completed?`/kingdom/${username}`:`/me`} \r\n                    className=\"btn btn-primary\">Done</Link>\r\n            </p>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default EditMe\r\n","import { ME_FILENAME, SUBJECTS_FILENAME } from './constants'\r\n\r\nexport function jsonCopy(object) {\r\n  return JSON.parse(JSON.stringify(object))\r\n}\r\n\r\n\r\n/**\r\n * Return a JSON object with the username\r\n * and domain of the kingdom\r\n *\r\n * Accepts URLs of the format:\r\n * https://example.com/kingdom/username.id\r\n * @param  {string} url\r\n * @return {Object} an Object with keys `app` and `username`\r\n */\r\nexport function subjectFromKingdomUrl(url) {\r\n  const tokens = url.split('/kingdom')\r\n  const app = tokens[0]\r\n  const username = tokens[1].split('/')[1]\r\n  return {\r\n    app,\r\n    username\r\n  }\r\n}\r\n\r\nexport function resolveSubjects(component, userSession, subjects) {\r\n  subjects.map((subject, index) => {\r\n    const options = {\r\n      decrypt: false,\r\n      app: subject.app,\r\n      username: subject.username\r\n    }\r\n    return userSession.getFile(ME_FILENAME, options) // fetch me.json for each subject\r\n    .then(content => {\r\n      if(!content) {\r\n\r\n        subjects[index] = Object.assign({}, subject, { missing: true })\r\n        component.setState({ subjects })\r\n        return subjects\r\n      } else {\r\n        subjects[index] = Object.assign({}, subject, { missing: false }, JSON.parse(content))\r\n        component.setState({ subjects })\r\n        return subjects\r\n      }\r\n\r\n    })\r\n  })\r\n}\r\n\r\nexport function loadRuler(userSession, username, app) {\r\n  const options = { decrypt: false, username, app }\r\n  return userSession.getFile(ME_FILENAME, options)\r\n  .then((content) => {\r\n    if(content) {\r\n      const ruler = JSON.parse(content)\r\n      return ruler\r\n    } else {\r\n      const ruler = null\r\n      return ruler\r\n    }\r\n  })\r\n}\r\n\r\nexport function loadSubjects(userSession, username, app) {\r\n  const options = { decrypt: false, username, app }\r\n  return userSession.getFile(SUBJECTS_FILENAME, options)\r\n  .then((content) => {\r\n    if(content) {\r\n      const subjects = JSON.parse(content)\r\n      return subjects\r\n    } else {\r\n      return []\r\n    }\r\n  })\r\n}\r\n","import React, { Component } from 'react'\r\n\r\n\r\nclass Subject extends Component {\r\n\r\n  render() {\r\n    const index = this.props.index\r\n    const username = this.props.subject.username\r\n    const selected = this.props.selected\r\n    const app = this.props.subject.app\r\n    const animal = this.props.subject.animal\r\n    const myKingdom = this.props.myKingdom\r\n    const currentUsername = this.props.currentUsername\r\n    if (!animal) {\r\n      return null\r\n    }\r\n\r\n    return (\r\n      <div\r\n        className={`card ${selected ? 'border-primary' : ''}`}\r\n      >\r\n      <img className=\"card-img-top\"\r\n        src={`${app}/animals/${animal.id}.jpg`}\r\n        alt={animal.name}\r\n      />\r\n      <div className=\"card-body\">\r\n        <h4 className=\"card-title\">{username} the {animal.name}</h4>\r\n        <p className=\"card-text\">{animal.superpower}<br />\r\n        It hails from the planet { app }.</p>\r\n        {myKingdom ?\r\n          <button className='btn btn-primary btn-block' onClick={(event) => this.props.removeSubject(event, index)}>Banish from kingdom</button>\r\n          :\r\n          <a\r\n            className='btn btn-primary btn-block'\r\n            href={`${window.location.origin}/kingdom/${currentUsername}?add=${app}/kingdom/${username}`}\r\n          >Add to my kingdom\r\n          </a>\r\n        }\r\n      </div>\r\n    </div>\r\n    )\r\n  }\r\n}\r\n\r\nexport default Subject\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { UserSession } from 'blockstack'\r\nimport { jsonCopy, subjectFromKingdomUrl,\r\n  loadRuler, loadSubjects, resolveSubjects } from './utils'\r\nimport Subject from './Subject'\r\nimport { appConfig, SUBJECTS_FILENAME, EXPLORER_URL } from './constants'\r\n\r\nimport './Kingdom.css'\r\n\r\nclass Kingdom extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      ruler: {\r\n        animal: {\r\n\r\n        },\r\n        territory: {\r\n\r\n        }\r\n      },\r\n      subjects: [],\r\n      value: '',\r\n      app:`${props.protocol}//${props.realm}`,\r\n      rulerUsername: props.ruler,\r\n      clickAdd: false\r\n    }\r\n    this.userSession = new UserSession({ appConfig })\r\n    this.addSubject = this.addSubject.bind(this)\r\n    this.removeSubject = this.removeSubject.bind(this)\r\n    this.handleChange = this.handleChange.bind(this)\r\n    this.loadKingdom = this.loadKingdom.bind(this)\r\n  }\r\n\r\n  componentWillMount() {\r\n    const app = this.state.app\r\n    const ruler = this.props.ruler\r\n    this.loadKingdom(ruler, app)\r\n    const search = window.location.search\r\n    if(search) {\r\n      const appUrl = search.split('=')[1]\r\n      this.setState({\r\n        value: appUrl,\r\n        clickAdd: true\r\n      })\r\n    }\r\n  }\r\n\r\n  componentWillReceiveProps(nextProps) {\r\n    const nextSubjects = nextProps.subjects\r\n    if(nextSubjects) {\r\n      if (nextSubjects.length !== this.state.subjects.length) {\r\n        this.setState({ subjects: jsonCopy(nextSubjects) })\r\n      }\r\n      resolveSubjects(this, this.userSession, nextSubjects)\r\n    }\r\n  }\r\n\r\n\r\n  handleChange(event) {\r\n   this.setState({value: event.target.value});\r\n  }\r\n\r\n  loadKingdom(ruler, app) {\r\n    loadRuler(this.userSession, ruler, app)\r\n    .then(ruler => {\r\n      if (ruler) {\r\n        this.setState({ ruler })\r\n      }\r\n    })\r\n\r\n    loadSubjects(this.userSession, ruler, app)\r\n    .then(subjects => {\r\n      this.setState({ subjects })\r\n      resolveSubjects(this, this.userSession, subjects)\r\n    })\r\n  }\r\n\r\n  addSubject(e) {\r\n    e.preventDefault()\r\n    const subject = subjectFromKingdomUrl(this.state.value)\r\n    const subjects = jsonCopy(this.state.subjects)\r\n    this.setState({value: '', clickAdd: false})\r\n    subjects.push(subject)\r\n    this.setState({ subjects })\r\n    this.saveSubjects(subjects)\r\n  }\r\n\r\n  removeSubject(e, index) {\r\n    e.preventDefault()\r\n    const subjects = jsonCopy(this.state.subjects)\r\n    subjects.splice(index, 1) // remove subject at index\r\n    this.setState({ subjects })\r\n    this.saveSubjects(subjects)\r\n  }\r\n\r\n  saveSubjects(subjects) {\r\n    const options = { encrypt: false }\r\n    this.userSession.putFile(SUBJECTS_FILENAME, JSON.stringify(subjects), options)\r\n    .finally(() => {\r\n      if(window.location.search) {\r\n        window.history.pushState(null, \"\", window.location.href.split(\"?\")[0])\r\n      }\r\n      resolveSubjects(this, this.userSession, subjects)\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const mine = this.props.myKingdom\r\n    const ruler = this.state.ruler\r\n    const rulerAnimal = ruler.animal\r\n    const rulerTerritory = ruler.territory\r\n    const username = this.state.rulerUsername\r\n    const subjects = this.state.subjects\r\n    const myKingdom = this.props.myKingdom\r\n    const app = this.state.app\r\n    const clickAdd = this.state.clickAdd\r\n    const currentUsername = this.props.currentUsername\r\n    return (\r\n      <div className=\"Kingdom\">\r\n        <div className=\"row\">\r\n          <div\r\n            className=\"col-lg-12 territory\"\r\n            style={{backgroundImage: `url('${app}/territories/${rulerTerritory.id}.jpg')`}}\r\n          >\r\n          { rulerAnimal && rulerAnimal.name ?\r\n            <img className=\"rounded-circle\" src={`${app}/animals/${rulerAnimal.id}.jpg`} alt={rulerAnimal.name} />\r\n            :\r\n            <img className=\"rounded-circle\" src=\"data:image/gif;base64,R0lGODlhAQABAIAAAHd3dwAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw==\"\r\n            alt=\"The Ruler\" />\r\n          }\r\n          </div>\r\n        </div>\r\n        <div className=\"row ruler\">\r\n          <div className=\"col-lg-12\">\r\n            <h2>Ruler {username}</h2>\r\n            {rulerAnimal ?\r\n              <p><a href={`${EXPLORER_URL}/name/${username}`} target=\"_blank\" rel=\"noopener noreferrer\">{username}</a> is a {rulerAnimal.name} that rules over the {rulerTerritory.name}.</p>\r\n              :\r\n              <p>{username} is an unknown animal that hails from an unknown land.</p>\r\n            }\r\n            <p>\r\n            {mine ? <Link className=\"btn btn-primary\" to=\"/me\" role=\"button\">Edit my animal</Link>\r\n            : <a\r\n              className='btn btn-primary'\r\n              href={`${window.location.origin}/kingdom/${currentUsername}?add=${app}/kingdom/${username}`}\r\n            >Add ruler to my kingdom\r\n            </a>}\r\n            </p>\r\n            <div className=\"container\">\r\n              <h2>Subjects</h2>\r\n              {mine ?\r\n                <div className=\"row justify-content-center\">\r\n                  <div\r\n                    id=\"addSubject\"\r\n                    className=\"add-frame col-lg-8\"\r\n                    style={{borderColor: (clickAdd ? 'red' : '#f8f9fa')}}\r\n                  >\r\n                    <form onSubmit={this.addSubject} className=\"input-group\">\r\n                      <input\r\n                        className=\"form-control\"\r\n                        type=\"url\"\r\n                        onChange={this.handleChange}\r\n                        value={this.state.value}\r\n                        required\r\n                        placeholder=\"https://example.com/kingdom/ruler.id\"\r\n                      />\r\n                      <div className=\"input-group-append\">\r\n                        <input type=\"submit\" className=\"btn btn-primary\" value=\"Add subject\"/>\r\n                      </div>\r\n                    </form>\r\n                  </div>\r\n                </div>\r\n                :\r\n                null\r\n              }\r\n              <div className=\"card-deck\">\r\n              {subjects.map((subject, index) => {\r\n                return (\r\n                  <Subject\r\n                    key={index}\r\n                    index={index}\r\n                    subject={subject}\r\n                    removeSubject={this.removeSubject}\r\n                    myKingdom={myKingdom}\r\n                    currentUsername={currentUsername}\r\n                  />\r\n                      )\r\n                    })\r\n              }\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Kingdom\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport './NavBar.css'\r\n\r\nclass NavBar extends Component {\r\n\r\n  render() {\r\n    const username = this.props.username\r\n    return (\r\n<nav className=\"navbar navbar-expand-md navbar-dark bg-blue fixed-top\">\r\n<Link className=\"navbar-brand\" to=\"/\">Animal Kingdom</Link>\r\n\r\n<div className=\"collapse navbar-collapse\" id=\"navbarsExampleDefault\">\r\n  <ul className=\"navbar-nav mr-auto\">\r\n    <li className=\"nav-item\">\r\n      <Link className=\"nav-link\" to={`/kingdom/${username}`}>Your Kingdom</Link>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n      <Link className=\"nav-link\" to=\"/animals\">Animals</Link>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n      <Link className=\"nav-link\" to=\"/territories\">Territories</Link>\r\n    </li>\r\n    <li className=\"nav-item\">\r\n      <Link className=\"nav-link\" to=\"/others\">Other Kingdoms</Link>\r\n    </li>\r\n  </ul>\r\n</div>\r\n<ul className=\"navbar-nav mr-auto\">\r\n  <li className=\"nav-item\">\r\n    <Link className=\"nav-link\" to='/me'>{username}</Link>\r\n  </li>\r\n</ul>\r\n<button\r\n  className=\"btn btn-primary\"\r\n  onClick={this.props.signOut.bind(this)}\r\n>Sign out\r\n</button>\r\n</nav>\r\n)\r\n}\r\n}\r\n\r\nexport default NavBar\r\n","import React, { Component } from 'react'\r\nimport { ANIMALS, TERRITORIES } from './constants'\r\nimport './OptionsList.css'\r\n\r\nclass OptionsList extends Component {\r\n\r\n  render() {\r\n    const type = this.props.type\r\n    let options = ANIMALS\r\n    if (type === 'territories') {\r\n      options = TERRITORIES\r\n    }\r\n    return (\r\n      <div className=\"OptionsList container\">\r\n          <h2>Available { type } on this planet</h2>\r\n          <div className=\"card-deck\">\r\n            {options.map((option, index) => {\r\n            return (\r\n              <div className=\"card\">\r\n              <h4 className=\"card-header\">{ option.name }</h4>\r\n              <img className=\"card-img-top\"\r\n                src={`/${type}/${option.id}.jpg`}\r\n                alt={option.name}\r\n              />\r\n              <div className=\"card-body\">\r\n                <div className=\"card-title\">{ option.superpower }</div>\r\n              </div>\r\n              </div>\r\n            )\r\n            })}\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OptionsList\r\n","import React, { Component } from 'react'\r\nimport { Link } from 'react-router-dom'\r\nimport { UserSession } from 'blockstack'\r\nimport { appConfig, OTHER_KINGDOMS } from './constants'\r\nimport { loadRuler, loadSubjects } from './utils'\r\n\r\nclass OtherKingdoms extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.state = {\r\n      kingdoms: []\r\n    }\r\n    this.userSession = new UserSession({ appConfig })\r\n    this.resolveKingdoms = this.resolveKingdoms.bind(this)\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.resolveKingdoms()\r\n  }\r\n\r\n  resolveKingdoms() {\r\n    const kingdoms = this.state.kingdoms\r\n    OTHER_KINGDOMS.map((kingdom, index) => {\r\n      return loadRuler(this.userSession, kingdom.ruler, kingdom.app)\r\n      .then(ruler => {\r\n        kingdoms[index] = {\r\n          ruler: {\r\n            username: kingdom.ruler,\r\n            data: ruler\r\n          },\r\n          subjects: [],\r\n          app: kingdom.app\r\n        }\r\n\r\n        this.setState({ kingdoms })\r\n        return loadSubjects(this.userSession, kingdom.ruler, kingdom.app)\r\n        .then(subjects => {\r\n            kingdoms[index].subjects = subjects\r\n            this.setState({ subjects })\r\n        })\r\n        .catch(error => {\r\n          console.log('problem loading subjects')\r\n          console.log(error)\r\n          kingdoms[index].subjects = []\r\n          kingdoms[index].error = true\r\n          this.setState({ kingdom })\r\n        })\r\n      })\r\n      .catch((error) => {\r\n        console.log('ruler not found')\r\n        console.log(error)\r\n        kingdoms[index] = {\r\n          error: true,\r\n          ruler: {\r\n            username: kingdom.ruler,\r\n            data: null,\r\n          },\r\n          subjects: [],\r\n          app: kingdom.app\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  render() {\r\n    const kingdoms = this.state.kingdoms\r\n    return (\r\n      <div className=\"OtherKingdoms container\">\r\n          <h2>Other kingdoms</h2>\r\n          <div className=\"list-group\">\r\n          {kingdoms.length === 0 ?\r\n            <div\r\n              className=\"list-group-item list-group-item-action flex-column align-items-start\"\r\n            >\r\n              <div class=\"d-flex w-100 justify-content-between\">\r\n                <h5 class=\"mb-1\">Loading other kingdoms...</h5>\r\n              </div>\r\n              <p class=\"mb-1\">&nbsp;</p>\r\n            </div>\r\n            :\r\n            <div>\r\n            {kingdoms.map((kingdom, index) => {\r\n              const protocol = kingdom.app.split('//')[0]\r\n              const hostname = kingdom.app.split('//')[1]\r\n              const planet = kingdom.app\r\n              const ruler = kingdom.error ? '' : kingdom.ruler\r\n              const data = ruler ? ruler.data : ''\r\n              const animal = data ? data.animal : ''\r\n              if (kingdom.error) {\r\n                return (\r\n                  <div\r\n                    className=\"list-group-item list-group-item-action flex-column align-items-start\"\r\n                    key={index}\r\n                  >\r\n                    <div class=\"d-flex w-100 justify-content-between\">\r\n                      <h5 class=\"mb-1\">{ kingdom.ruler.username }'s kingdom can't be reached</h5>\r\n                    </div>\r\n                    <p class=\"mb-1\">Is the planet { planet } under siege?</p>\r\n                  </div>\r\n                )\r\n              } else {\r\n                return (\r\n                  <Link\r\n                    className=\"list-group-item list-group-item-action flex-column align-items-start\"\r\n                    to={`/kingdom/${protocol}/${hostname}/${kingdom.ruler.username}`}\r\n                    key={index}\r\n                  >\r\n                    <div class=\"d-flex w-100 justify-content-between\">\r\n                      <h5 class=\"mb-1\">{ kingdom.ruler.username } the { animal ? animal.name : '' }'s kingdom</h5>\r\n                      <span class=\"badge badge-primary badge-pill\" title=\"Subjects\">{ kingdom.subjects.length }</span>\r\n                    </div>\r\n                    <p class=\"mb-1\">From planet { planet }</p>\r\n                  </Link>\r\n                )\r\n              }\r\n            })}\r\n            </div>\r\n          }\r\n          </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default OtherKingdoms\r\n","import React, { Component } from 'react'\r\nimport { Switch, Route, Redirect } from 'react-router-dom'\r\nimport { UserSession } from 'blockstack'\r\nimport EditMe from './EditMe'\r\nimport Kingdom from './Kingdom'\r\nimport NavBar from './NavBar'\r\nimport OptionsList from './OptionsList'\r\nimport OtherKingdoms from './OtherKingdoms'\r\nimport { appConfig, ME_FILENAME } from './constants'\r\nimport './SignedIn.css'\r\n\r\n\r\nclass SignedIn extends Component {\r\n\r\n  constructor(props) {\r\n    super(props)\r\n    this.userSession = new UserSession({ appConfig })\r\n    this.state = {\r\n      me: {},\r\n      savingMe: false,\r\n      savingKingdown: false,\r\n      redirectToMe: false\r\n      //selectedAnimal: false,\r\n      //selectedTerritory: false\r\n    }\r\n\r\n    this.loadMe = this.loadMe.bind(this)\r\n    this.saveMe = this.saveMe.bind(this)\r\n    this.signOut = this.signOut.bind(this)\r\n  }\r\n\r\n  componentWillMount() {\r\n    this.loadMe()\r\n  }\r\n\r\n  loadMe() {\r\n    const options = { decrypt: false }\r\n    this.userSession.getFile(ME_FILENAME, options)\r\n    .then((content) => {\r\n      if(content) {\r\n        const me = JSON.parse(content)\r\n        this.setState({me, redirectToMe: false})\r\n      } else {\r\n        const me = null\r\n        this.setState({me, redirectToMe: true})\r\n      }\r\n    })\r\n  }\r\n\r\n  saveMe(me) {\r\n    this.setState({me, savingMe: true})\r\n    const options = { encrypt: false }\r\n    this.userSession.putFile(ME_FILENAME, JSON.stringify(me), options)\r\n    .finally(() => {\r\n      this.setState({savingMe: false, redirectToMe: false})\r\n    })\r\n  }\r\n\r\n  signOut(e) {\r\n    e.preventDefault()\r\n    this.userSession.signUserOut()\r\n    window.location = '/'\r\n  }\r\n\r\n  render() {\r\n    const username = this.userSession.loadUserData().username\r\n    const me = this.state.me\r\n    const redirectToMe = this.state.redirectToMe\r\n    if(redirectToMe) {\r\n      // User hasn't configured her animal\r\n      if(window.location.pathname !== '/me') {\r\n        return (\r\n          <Redirect to=\"/me\" />\r\n        )\r\n      }\r\n    }\r\n\r\n    if(window.location.pathname === '/') {\r\n      return (\r\n        <Redirect to={`/kingdom/${username}`} />\r\n      )\r\n    }\r\n\r\n\r\n    return (\r\n      <div className=\"SignedIn\">\r\n      <NavBar username={username} signOut={this.signOut}/>\r\n      <Switch>\r\n              <Route\r\n                path='/animals'\r\n                render={\r\n                  routeProps => <OptionsList\r\n                  type=\"animals\"\r\n                  {...routeProps} />\r\n                }\r\n              />\r\n              <Route\r\n                path='/territories'\r\n                render={\r\n                  routeProps => <OptionsList\r\n                  type=\"territories\"\r\n                  {...routeProps} />\r\n                }\r\n              />\r\n              <Route\r\n                path='/others'\r\n                render={\r\n                  routeProps => <OtherKingdoms\r\n                  type=\"territories\"\r\n                  {...routeProps} />\r\n                }\r\n              />\r\n              <Route\r\n                path='/me'\r\n                render={\r\n                  routeProps => <EditMe\r\n                  me={me}\r\n                  saveMe={this.saveMe}\r\n                  username={username}\r\n                  //selectedAnimal={this.props.selectedAnimal}\r\n                  //selectedTerritory={this.props.selectedAnimal}\r\n                  {...routeProps} />\r\n                }\r\n              />\r\n              <Route\r\n                path={`/kingdom/${username}`}\r\n                render={\r\n                  routeProps => <Kingdom\r\n                  myKingdom={true}\r\n                  protocol={window.location.protocol}\r\n                  ruler={username}\r\n                  currentUsername={username}\r\n                  realm={window.location.origin.split('//')[1]}\r\n                  {...routeProps} />\r\n                }\r\n              />\r\n              <Route\r\n                path='/kingdom/:protocol/:realm/:ruler'\r\n                render={\r\n                  routeProps => <Kingdom\r\n                  myKingdom={false}\r\n                  protocol={routeProps.match.params.protocol}\r\n                  realm={routeProps.match.params.realm}\r\n                  ruler={routeProps.match.params.ruler}\r\n                  currentUsername={username}\r\n                  {...routeProps} />\r\n                }\r\n              />\r\n      </Switch>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default SignedIn\r\n","import React, { Component } from 'react'\r\nimport './App.css'\r\nimport { UserSession } from 'blockstack'\r\n\r\nimport Landing from './Landing'\r\nimport SignedIn from './SignedIn'\r\n\r\nclass App extends Component {\r\n\r\n  constructor() {\r\n    super()\r\n    this.userSession = new UserSession()\r\n  }\r\n\r\n  componentWillMount() {\r\n    const session = this.userSession\r\n    if(!session.isUserSignedIn() && session.isSignInPending()) {\r\n      session.handlePendingSignIn()\r\n      .then((userData) => {\r\n        if(!userData.username) {\r\n          throw new Error('This app requires a username.')\r\n        }\r\n        window.location = `/kingdom/${userData.username}`\r\n      })\r\n    }\r\n  }\r\n\r\n  render() {\r\n    return (\r\n      <main role=\"main\">\r\n          {this.userSession.isUserSignedIn() ?\r\n            <SignedIn />\r\n          :\r\n            <Landing />\r\n          }\r\n      </main>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App\r\n","// In production, we register a service worker to serve assets from local cache.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on the \"N+1\" visit to a page, since previously\r\n// cached resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model, read https://goo.gl/KwvDNy.\r\n// This link also includes instructions on opting out of this behavior.\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport default function register() {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebookincubator/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Lets check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://goo.gl/SC7cgQ'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not local host. Just register service worker\r\n        registerValidSW(swUrl);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the old content will have been purged and\r\n              // the fresh content will have been added to the cache.\r\n              // It's the perfect time to display a \"New content is\r\n              // available; please refresh.\" message in your web app.\r\n              console.log('New content is available; please refresh.');\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      if (\r\n        response.status === 404 ||\r\n        response.headers.get('content-type').indexOf('javascript') === -1\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport { BrowserRouter } from 'react-router-dom'\r\nimport './index.css'\r\nimport App from './App'\r\nimport registerServiceWorker from './registerServiceWorker'\r\nimport 'bootstrap/dist/css/bootstrap.css'\r\n\r\nReactDOM.render(<BrowserRouter><App /></BrowserRouter>, document.getElementById('root'))\r\nregisterServiceWorker()\r\n"],"sourceRoot":""}